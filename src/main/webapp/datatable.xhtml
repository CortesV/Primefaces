<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>User Page</title>
</h:head>
<h:body style="padding:20px">

	<h:form id="form">
		<p:dataTable var="car" value="#{lazyController.lazyModel}"
			paginator="true" rows="5"
			paginatorTemplate="{RowsPerPageDropdown} {FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}"
			rowsPerPageTemplate="5,10,15" selectionMode="single"
			selection="#{lazyController.selectedCar}" id="carTable" lazy="true" paginatorPosition="bottom">
			
			<p:ajax event="rowSelect" listener="#{lazyController.onRowSelect}"
				update=":form:carDetail" oncomplete="PF('carDialog').show()" />
			
			<p:column headerText="Id" sortBy="#{car.id}" filterBy="#{car.id}">
				<h:outputText value="#{car.id}" />
			</p:column>

			<p:column headerText="UUID" sortBy="#{car.uuid}" filterBy="#{car.uuid}">
				<h:outputText value="#{car.uuid}" />
			</p:column>

			<p:column headerText="Year" sortBy="#{car.yearProduce}"
				filterBy="#{car.yearProduce}">
				<h:outputText value="#{car.yearProduce}" />
			</p:column>

			<p:column headerText="Brand" sortBy="#{car.brand}"
				filterBy="#{car.brand}">
				<h:outputText value="#{car.brand}" />
			</p:column>

			<p:column headerText="Model" sortBy="#{car.model}"
				filterBy="#{car.model}">
				<h:outputText value="#{car.model}" />
			</p:column>

			<p:column headerText="Color" sortBy="#{car.color}"
				filterBy="#{car.color}">
				<h:outputText value="#{car.color}" />
			</p:column>

			<p:column headerText="Price" sortBy="#{car.price}"
				filterBy="#{car.price}">
				<h:outputText value="#{car.price}" />
			</p:column>

		</p:dataTable>

		<p:dialog header="Car Detail" widgetVar="carDialog" modal="true"
			showEffect="fade" hideEffect="fade" resizable="false">
			<p:outputPanel id="carDetail" style="text-align:center;">
				<p:panelGrid columns="2"
					rendered="#{not empty lazyController.selectedCar}"
					columnClasses="label,value">

					<h:outputText value="ID:" />
					<h:outputText value="#{lazyController.selectedCar.id}" />

					<h:outputText value="UUID:" />
					<h:outputText value="#{lazyController.selectedCar.uuid}" />

					<h:outputText value="Year" />
					<h:outputText value="#{lazyController.selectedCar.yearProduce}" />

					<h:outputText value="Brand" />
					<h:outputText value="#{lazyController.selectedCar.brand}" />

					<h:outputText value="Model" />
					<h:outputText value="#{lazyController.selectedCar.model}" />

					<h:outputText value="Color:" />
					<h:outputText value="#{lazyController.selectedCar.color}"
						style="color:#{lazyController.selectedCar.color}" />

					<h:outputText value="Price:" />
					<h:outputText value="#{lazyController.selectedCar.price}">
						<f:convertNumber type="currency" currencySymbol="$" />
					</h:outputText>

				</p:panelGrid>
			</p:outputPanel>
		</p:dialog>
	</h:form>





	

	
	
</h:body>
</html>